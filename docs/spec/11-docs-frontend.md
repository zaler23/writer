# 11 — 文档前端（Docs Frontend）

> 目标：为 v1.4 规范与模块卡片提供**可浏览、可检索、可追踪版本**的前端文档界面，降低阅读负担并支持按模块构建。

## D1 目标与范围
- **目标**：把 `docs/` 中的规范、卡片、ADR、约束清单组织成可导航的文档站点。
- **非目标**：不内置运行态 API；不承担 auth、协作与云同步。
- **原则**：
  - 内容即源代码：`docs/` 为唯一事实来源。
  - 结构优先：按 spec/cards/adr/根参考分区。
  - 低依赖、可离线：支持静态输出与本地预览。

## D2 信息架构（IA）
- **顶层导航**
  1. 规范 Spec（`docs/spec/00` → `11`）
  2. 模块 Cards（`docs/cards/F01` → `F15`）
  3. ADR（`docs/adr/`）
  4. 约束与参考（`INVARIANTS / CONVENTIONS / ERROR_CODES / STATE_MACHINES / HOT_FIELDS`）
  5. 项目进度（`PROJECT_PROGRESS.md`）
- **侧边栏**：
  - Spec 按编号顺序展示
  - Cards 按 F 编号展示
  - ADR 按编号展示

## D3 页面结构（最小可用）
1. **Home**：项目简介、版本号、阅读顺序、快速入口
2. **Spec Reader**：逐章阅读 + 章节内目录
3. **Module Cards**：单卡片 + 关联 spec/ADR 引用
4. **ADR Viewer**：决策记录 + 影响范围标注
5. **Reference**：不变量、约定、错误码、状态机、热字段
6. **Progress**：展示 `PROJECT_PROGRESS.md` 的里程碑与模块看板

## D4 交互与可用性
- 搜索：标题/正文全文检索（优先支持 `docs/` 内检索）
- 版本提示：显示 `spec/00-meta.md` 中的 v1.4 与日期
- 关联跳转：卡片 → 相关 spec/DDL 章节的锚点链接
- 稳定锚点：所有标题保持一致，避免随意改名

## D5 构建方式（工具无绑定）
> 不强制特定框架，可使用任意静态站点生成器（如 mkdocs/markdown-it）实现。

- **输入**：`docs/` 下的 Markdown
- **输出**：静态 HTML + 搜索索引（本地可离线）
- **约束**：
  - 无服务端依赖
  - 不引入运行时数据库
  - 支持本地预览（例如 `python -m http.server`）

## D6 构建计划（对齐里程碑）
| 阶段 | 目标 | 交付物 | 对应里程碑 |
|---|---|---|---|
| P0 | 文档站点骨架 + 导航 | 基础导航与目录结构 | M0a |
| P1 | 搜索 + 关联跳转 | 搜索索引 + 引用链接 | M0b |
| P2 | 版本/变更提示 | 版本标记 + 变更摘要 | M1 |

## D7 验收清单
- `docs/` 全量可导航（Spec/Cards/ADR/参考/进度）
- 搜索可命中至少 Spec 与 Cards 标题
- 首页显示 v1.4 版本与阅读顺序
- 任何新增文档在前端可见（无需额外配置）
